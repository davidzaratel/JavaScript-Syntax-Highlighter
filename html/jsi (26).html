<!DOCTYPE html>
    <html>
    <head>
      <title> Javascript Script Highlighter</title>
      <link rel='stylesheet' href='../css/styles.css'>
    </head>
    <body>
    <h1>Javascript script highlighter</h1>
    <h3> By: David Zarate Lopez A01329795</h3>
    <br>
    <pre><code><span class="reserved">import</span><span> </span><span class="identifier">envData</span><span> </span><span class="identifier">from</span><span> </span><span class="string">'../../../config/env.json'</span><span class="signs">;</span><br><span class="reserved">import</span><span> </span><span class="identifier">axios</span><span> </span><span class="identifier">from</span><span> </span><span class="string">'axios'</span><span class="signs">;</span><br><span class="reserved">import</span><span> </span><span class="identifier">Tokens</span><span> </span><span class="identifier">from</span><span> </span><span class="string">'csrf'</span><span class="signs">;</span><br><span class="reserved">import</span><span> </span><span class="identifier">cookies</span><span> </span><span class="identifier">from</span><span> </span><span class="string">'browser-cookies'</span><span class="signs">;</span><br><br><span class="reserved">const</span><span> </span><span class="signs">{</span><span> </span><span class="identifier">apiLocation</span><span> </span><span class="signs">}</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">envData</span><span class="signs">;</span><br><br><span class="reserved">const</span><span> </span><span class="identifier">base</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">apiLocation</span><span class="signs">;</span><br><span class="reserved">const</span><span> </span><span class="identifier">tokens</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Tokens</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><br><span class="identifier">axios</span><span class="signs">.</span><span class="identifier">defaults</span><span class="signs">.</span><span class="identifier">withCredentials</span><span> </span><span class="signs">=</span><span> </span><span class="bool">true</span><span class="signs">;</span><br><br><span class="comment">// _csrf is passed to the client as a cookie. Tokens are sent back to the server
</span><span class="comment">// via headers:
</span><span class="reserved">function</span><span> </span><span class="identifier">setCSRFTokens</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">const</span><span> </span><span class="identifier">_csrf</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">typeof</span><span> </span><span class="identifier">window</span><span> </span><span class="signs">!</span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="string">'undefined'</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="identifier">cookies</span><span class="signs">.</span><span class="identifier">get</span><span class="signs">(</span><span class="string">'_csrf'</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="signs">!</span><span class="identifier">_csrf</span><span class="signs">)</span><span> </span><span class="reserved">return</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">axios</span><span class="signs">.</span><span class="identifier">defaults</span><span class="signs">.</span><span class="identifier">headers</span><span class="signs">.</span><span class="identifier">post</span><span class="signs">[</span><span class="string">'CSRF-Token'</span><span class="signs">]</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">tokens</span><span class="signs">.</span><span class="identifier">create</span><span class="signs">(</span><span class="identifier">_csrf</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">axios</span><span class="signs">.</span><span class="identifier">defaults</span><span class="signs">.</span><span class="identifier">headers</span><span class="signs">.</span><span class="identifier">put</span><span class="signs">[</span><span class="string">'CSRF-Token'</span><span class="signs">]</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">tokens</span><span class="signs">.</span><span class="identifier">create</span><span class="signs">(</span><span class="identifier">_csrf</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">function</span><span> </span><span class="identifier">get</span><span class="signs">(</span><span class="identifier">path</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">axios</span><span class="signs">.</span><span class="identifier">get</span><span class="signs">(</span><span class="string">`${base}${path}`</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">post</span><span class="signs">(</span><span class="identifier">path</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="identifier">setCSRFTokens</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">axios</span><span class="signs">.</span><span class="identifier">post</span><span class="signs">(</span><span class="string">`${base}${path}`</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">function</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="identifier">path</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="identifier">setCSRFTokens</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">axios</span><span class="signs">.</span><span class="identifier">put</span><span class="signs">(</span><span class="string">`${base}${path}`</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="comment">// function del(path) {
</span><span class="comment">//   return axios.delete(`${base}${path}`);
</span><span class="comment">// }
</span><br><span class="comment">/** GET **/</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">getSessionUser</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">get</span><span class="signs">(</span><span class="string">'/user/get-session-user'</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">getUserProfile</span><span class="signs">(</span><span class="identifier">username</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">get</span><span class="signs">(</span><span class="string">`/api/users/get-public-profile?username=${username}`</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">getShowCert</span><span class="signs">(</span><span class="identifier">username</span><span class="signs">,</span><span> </span><span class="identifier">certSlug</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">get</span><span class="signs">(</span><span class="string">`/certificate/showCert/${username}/${certSlug}`</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">getUsernameExists</span><span class="signs">(</span><span class="identifier">username</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">get</span><span class="signs">(</span><span class="string">`/api/users/exists?username=${username}`</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">getArticleById</span><span class="signs">(</span><span class="identifier">shortId</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">get</span><span class="signs">(</span><span class="string">`/n/${shortId}`</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="comment">/** POST **/</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">addDonation</span><span class="signs">(</span><span class="identifier">body</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">post</span><span class="signs">(</span><span class="string">'/donate/add-donation'</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putUpdateLegacyCert</span><span class="signs">(</span><span class="identifier">body</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">post</span><span class="signs">(</span><span class="string">'/update-my-projects'</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">postReportUser</span><span class="signs">(</span><span class="identifier">body</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">post</span><span class="signs">(</span><span class="string">'/user/report-user'</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">postDeleteAccount</span><span class="signs">(</span><span class="identifier">body</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">post</span><span class="signs">(</span><span class="string">'/account/delete'</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">postResetProgress</span><span class="signs">(</span><span class="identifier">body</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">post</span><span class="signs">(</span><span class="string">'/account/reset-progress'</span><span class="signs">,</span><span> </span><span class="identifier">body</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="comment">/** PUT **/</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putUpdateMyAbout</span><span class="signs">(</span><span class="identifier">values</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="string">'/update-my-about'</span><span class="signs">,</span><span> </span><span class="signs">{</span><span> </span><span class="signs">.</span><span class="signs">.</span><span class="signs">.</span><span class="identifier">values</span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putUpdateMyUsername</span><span class="signs">(</span><span class="identifier">username</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="string">'/update-my-username'</span><span class="signs">,</span><span> </span><span class="signs">{</span><span> </span><span class="identifier">username</span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putUpdateMyProfileUI</span><span class="signs">(</span><span class="identifier">profileUI</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="string">'/update-my-profileui'</span><span class="signs">,</span><span> </span><span class="signs">{</span><span> </span><span class="identifier">profileUI</span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putUpdateUserFlag</span><span class="signs">(</span><span class="identifier">update</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="string">'/update-user-flag'</span><span class="signs">,</span><span> </span><span class="identifier">update</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putUserAcceptsTerms</span><span class="signs">(</span><span class="identifier">quincyEmails</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="string">'/update-privacy-terms'</span><span class="signs">,</span><span> </span><span class="signs">{</span><span> </span><span class="identifier">quincyEmails</span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putUserUpdateEmail</span><span class="signs">(</span><span class="identifier">email</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="string">'/update-my-email'</span><span class="signs">,</span><span> </span><span class="signs">{</span><span> </span><span class="identifier">email</span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="reserved">export</span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">putVerifyCert</span><span class="signs">(</span><span class="identifier">certSlug</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">put</span><span class="signs">(</span><span class="string">'/certificate/verify'</span><span class="signs">,</span><span> </span><span class="signs">{</span><span> </span><span class="identifier">certSlug</span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><br><br><span class="comment">/** DELETE **/</span><br></code></pre>
    </body>
    </html>