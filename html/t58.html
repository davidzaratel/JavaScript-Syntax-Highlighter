<!DOCTYPE html>
    <html>
    <head>
      <title> Javascript Script Highlighter</title>
      <link rel='stylesheet' href='styles.css'>
    </head>
    <body>
    <h1>Javascript script highlighter</h1>
    <h3> By: David Zarate Lopez A01329795</h3>
    <br>
    <pre><code><span class="identifier">initToggles</span><span> </span><span class="signs">:</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span class="comment">// init postboxes
</span><span> </span><span> </span><span> </span><span> </span><span class="identifier">postboxes</span><span class="signs">.</span><span class="identifier">add</span><span class="identifier">_postbox</span><span class="identifier">_toggles</span><span class="signs">(</span><span class="string">'nav-menus'</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span class="comment">// adjust columns functions for menus UI
</span><span> </span><span> </span><span> </span><span> </span><span class="identifier">columns</span><span class="signs">.</span><span class="identifier">useCheckboxesForHidden</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">columns</span><span class="signs">.</span><span class="identifier">checked</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="identifier">field</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="string">'.field-'</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">field</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">removeClass</span><span class="signs">(</span><span class="string">'hidden-field'</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">columns</span><span class="signs">.</span><span class="identifier">unchecked</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="identifier">field</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="string">'.field-'</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">field</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">addClass</span><span class="signs">(</span><span class="string">'hidden-field'</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span class="comment">// hide fields
</span><span> </span><span> </span><span> </span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">menuList</span><span class="signs">.</span><span class="identifier">hideAdvancedMenuItemFields</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><span class="signs">,</span><br><br><span class="identifier">initSortables</span><span> </span><span class="signs">:</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">currentDepth</span><span> </span><span class="signs">=</span><span> </span><span class="num">0</span><span class="signs">,</span><span> </span><span class="identifier">originalDepth</span><span class="signs">,</span><span> </span><span class="identifier">minDepth</span><span class="signs">,</span><span> </span><span class="identifier">maxDepth</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">prev</span><span class="signs">,</span><span> </span><span class="identifier">next</span><span class="signs">,</span><span> </span><span class="identifier">prevBottom</span><span class="signs">,</span><span> </span><span class="identifier">nextThreshold</span><span class="signs">,</span><span> </span><span class="identifier">helperHeight</span><span class="signs">,</span><span> </span><span class="identifier">transport</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">menuEdge</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">menuList</span><span class="signs">.</span><span class="identifier">offset</span><span class="signs">(</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">left</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">body</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="string">'body'</span><span class="signs">)</span><span class="signs">,</span><span> </span><span class="identifier">maxChildDepth</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">menuMaxDepth</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">initialMenuMaxDepth</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span class="comment">// Use the right edge if RTL.
</span><span> </span><span> </span><span> </span><span> </span><span class="identifier">menuEdge</span><span> </span><span class="signs">+</span><span class="signs">=</span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">isRTL</span><span> </span><span class="signs">?</span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">menuList</span><span class="signs">.</span><span class="identifier">width</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">:</span><span> </span><span class="num">0</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">menuList</span><span class="signs">.</span><span class="identifier">sortable</span><span class="signs">(</span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">handle</span><span class="signs">:</span><span> </span><span class="string">'.menu-item-handle'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">placeholder</span><span class="signs">:</span><span> </span><span class="string">'sortable-placeholder'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">start</span><span class="signs">:</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="identifier">e</span><span class="signs">,</span><span> </span><span class="identifier">ui</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">height</span><span class="signs">,</span><span> </span><span class="identifier">width</span><span class="signs">,</span><span> </span><span class="identifier">parent</span><span class="signs">,</span><span> </span><span class="identifier">children</span><span class="signs">,</span><span> </span><span class="identifier">tempHolder</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// handle placement for rtl orientation
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">isRTL</span><span> </span><span class="signs">)</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">item</span><span class="signs">[</span><span class="num">0</span><span class="signs">]</span><span class="signs">.</span><span class="identifier">style</span><span class="signs">.</span><span class="identifier">right</span><span> </span><span class="signs">=</span><span> </span><span class="string">'auto'</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">transport</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">item</span><span class="signs">.</span><span class="identifier">children</span><span class="signs">(</span><span class="string">'.menu-item-transport'</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// Set depths. currentDepth must be set before children are located.
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">originalDepth</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">item</span><span class="signs">.</span><span class="identifier">menuItemDepth</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">updateCurrentDepth</span><span class="signs">(</span><span class="identifier">ui</span><span class="signs">,</span><span> </span><span class="identifier">originalDepth</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// Attach child elements to parent
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// Skip the placeholder
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">parent</span><span> </span><span class="signs">=</span><span> </span><span class="signs">(</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">item</span><span class="signs">.</span><span class="identifier">next</span><span class="signs">(</span><span class="signs">)</span><span class="signs">[</span><span class="num">0</span><span class="signs">]</span><span> </span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">placeholder</span><span class="signs">[</span><span class="num">0</span><span class="signs">]</span><span> </span><span class="signs">)</span><span> </span><span class="signs">?</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">item</span><span class="signs">.</span><span class="identifier">next</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">:</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">item</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">children</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">parent</span><span class="signs">.</span><span class="identifier">childMenuItems</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">transport</span><span class="signs">.</span><span class="identifier">append</span><span class="signs">(</span><span> </span><span class="identifier">children</span><span> </span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// Update the height of the placeholder to match the moving item.
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">height</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">transport</span><span class="signs">.</span><span class="identifier">outerHeight</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// If there are children, account for distance between top of children and parent
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">height</span><span> </span><span class="signs">+</span><span class="signs">=</span><span> </span><span class="signs">(</span><span> </span><span class="identifier">height</span><span> </span><span class="signs">></span><span> </span><span class="num">0</span><span> </span><span class="signs">)</span><span> </span><span class="signs">?</span><span> </span><span class="signs">(</span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">placeholder</span><span class="signs">.</span><span class="identifier">css</span><span class="signs">(</span><span class="string">'margin-top'</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">slice</span><span class="signs">(</span><span class="num">0</span><span class="signs">,</span><span> </span><span class="signs">-</span><span class="num">2</span><span class="signs">)</span><span> </span><span class="signs">*</span><span> </span><span class="num">1</span><span class="signs">)</span><span> </span><span class="signs">:</span><span> </span><span class="num">0</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">height</span><span> </span><span class="signs">+</span><span class="signs">=</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">helper</span><span class="signs">.</span><span class="identifier">outerHeight</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">helperHeight</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">height</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">height</span><span> </span><span class="signs">-</span><span class="signs">=</span><span> </span><span class="num">2</span><span class="signs">;</span><span> </span><span class="comment">// Subtract 2 for borders
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">placeholder</span><span class="signs">.</span><span class="identifier">height</span><span class="signs">(</span><span class="identifier">height</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// Update the width of the placeholder to match the moving item.
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">maxChildDepth</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">originalDepth</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">children</span><span class="signs">.</span><span class="identifier">each</span><span class="signs">(</span><span class="reserved">function</span><span class="signs">(</span><span class="signs">)</span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">depth</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">menuItemDepth</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">maxChildDepth</span><span> </span><span class="signs">=</span><span> </span><span class="signs">(</span><span class="identifier">depth</span><span> </span><span class="signs">></span><span> </span><span class="identifier">maxChildDepth</span><span class="signs">)</span><span> </span><span class="signs">?</span><span> </span><span class="identifier">depth</span><span> </span><span class="signs">:</span><span> </span><span class="identifier">maxChildDepth</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">width</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">helper</span><span class="signs">.</span><span class="identifier">find</span><span class="signs">(</span><span class="string">'.menu-item-handle'</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">outerWidth</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><span> </span><span class="comment">// Get original width
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">width</span><span> </span><span class="signs">+</span><span class="signs">=</span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">depthToPx</span><span class="signs">(</span><span class="identifier">maxChildDepth</span><span> </span><span class="signs">-</span><span> </span><span class="identifier">originalDepth</span><span class="signs">)</span><span class="signs">;</span><span> </span><span class="comment">// Account for children
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">width</span><span> </span><span class="signs">-</span><span class="signs">=</span><span> </span><span class="num">2</span><span class="signs">;</span><span> </span><span class="comment">// Subtract 2 for borders
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">placeholder</span><span class="signs">.</span><span class="identifier">width</span><span class="signs">(</span><span class="identifier">width</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// Update the list of menu items.
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">tempHolder</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">placeholder</span><span class="signs">.</span><span class="identifier">next</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">tempHolder</span><span class="signs">.</span><span class="identifier">css</span><span class="signs">(</span><span> </span><span class="string">'margin-top'</span><span class="signs">,</span><span> </span><span class="identifier">helperHeight</span><span> </span><span class="signs">+</span><span> </span><span class="string">'px'</span><span> </span><span class="signs">)</span><span class="signs">;</span><span> </span><span class="comment">// Set the margin to absorb the placeholder
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">placeholder</span><span class="signs">.</span><span class="identifier">detach</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><span> </span><span class="comment">// detach or jQuery UI will think the placeholder is a menu item
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">sortable</span><span class="signs">(</span><span> </span><span class="string">"refresh"</span><span> </span><span class="signs">)</span><span class="signs">;</span><span> </span><span class="comment">// The children aren't sortable. We should let jQ UI know.
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">item</span><span class="signs">.</span><span class="identifier">after</span><span class="signs">(</span><span> </span><span class="identifier">ui</span><span class="signs">.</span><span class="identifier">placeholder</span><span> </span><span class="signs">)</span><span class="signs">;</span><span> </span><span class="comment">// reattach the placeholder.
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">tempHolder</span><span class="signs">.</span><span class="identifier">css</span><span class="signs">(</span><span class="string">'margin-top'</span><span class="signs">,</span><span> </span><span class="num">0</span><span class="signs">)</span><span class="signs">;</span><span> </span><span class="comment">// reset the margin
</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="comment">// Now that the element is complete, we can update...
</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">updateSharedVars</span><span class="signs">(</span><span class="identifier">ui</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">,</span></code></pre>
    </body>
    </html>