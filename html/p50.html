<!DOCTYPE html>
    <html>
    <head>
      <title> Javascript Syntax Highlighter</title>
      <link rel='stylesheet' href='../css/styles.css'>
    </head>
    <body>
    <h1>Javascript Syntax Highlighter</h1>
    <h3> By: David Zarate Lopez A01329795</h3>
    <br>
    <pre><code><span class="identifier">ps</span><span class="signs">.</span><span class="identifier">subscribe</span><span class="signs">(</span><span class="string">"shown"</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span> </span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="comment">// This event occurs after the DFW overlay is shown
</span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">interim</span><span class="identifier">_init</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">visible</span><span> </span><span class="signs">=</span><span> </span><span class="bool">true</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="comment">// init the standard TinyMCE instance if missing
</span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">has</span><span class="identifier">_tinymce</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="signs">!</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">is</span><span class="identifier">_mce</span><span class="identifier">_on</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">interim</span><span class="identifier">_init</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">function</span><span> </span><span class="signs">(</span><span class="identifier">mce</span><span class="signs">,</span><span> </span><span class="identifier">ed</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">el</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">ed</span><span class="signs">.</span><span class="identifier">getElement</span><span class="signs">(</span><span class="signs">)</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">old</span><span class="identifier">_val</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">el</span><span class="signs">.</span><span class="identifier">value</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">settings</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">tinyMCEPreInit</span><span class="signs">.</span><span class="identifier">mceInit</span><span class="signs">[</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">editor</span><span class="identifier">_id</span><span class="signs">]</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">settings</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="identifier">settings</span><span class="signs">.</span><span class="identifier">wpautop</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="reserved">typeof</span><span> </span><span class="identifier">switchEditors</span><span> </span><span class="signs">!</span><span class="signs">=</span><span> </span><span class="string">"undefined"</span><span class="signs">)</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">el</span><span class="signs">.</span><span class="identifier">value</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">switchEditors</span><span class="signs">.</span><span class="identifier">wpautop</span><span class="signs">(</span><span class="identifier">el</span><span class="signs">.</span><span class="identifier">value</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ed</span><span class="signs">.</span><span class="identifier">onInit</span><span class="signs">.</span><span class="identifier">add</span><span class="signs">(</span><span class="reserved">function</span><span> </span><span class="signs">(</span><span class="identifier">ed</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ed</span><span class="signs">.</span><span class="identifier">hide</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">ed</span><span class="signs">.</span><span class="identifier">getElement</span><span class="signs">(</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">value</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">old</span><span class="identifier">_val</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">tinymce</span><span class="signs">.</span><span class="identifier">onAddEditor</span><span class="signs">.</span><span class="identifier">remove</span><span class="signs">(</span><span class="identifier">interim</span><span class="identifier">_init</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">tinymce</span><span class="signs">.</span><span class="identifier">onAddEditor</span><span class="signs">.</span><span class="identifier">add</span><span class="signs">(</span><span class="identifier">interim</span><span class="identifier">_init</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">tinyMCE</span><span class="signs">.</span><span class="identifier">init</span><span class="signs">(</span><span class="identifier">tinyMCEPreInit</span><span class="signs">.</span><span class="identifier">mceInit</span><span class="signs">[</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">editor</span><span class="identifier">_id</span><span class="signs">]</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">is</span><span class="identifier">_mce</span><span class="identifier">_on</span><span> </span><span class="signs">=</span><span> </span><span class="bool">true</span><span class="signs">;</span><br><span> </span><span> </span><span class="signs">}</span><br><br><span> </span><span> </span><span class="identifier">wpActiveEditor</span><span> </span><span class="signs">=</span><span> </span><span class="string">"wp_mce_fullscreen"</span><span class="signs">;</span><br><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><br><span class="identifier">ps</span><span class="signs">.</span><span class="identifier">subscribe</span><span class="signs">(</span><span class="string">"hide"</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span> </span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="comment">// This event occurs before the overlay blocks DFW.
</span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">htmled</span><span class="identifier">_is</span><span class="identifier">_hidden</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="string">"#"</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">editor</span><span class="identifier">_id</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">is</span><span class="signs">(</span><span class="string">":hidden"</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="comment">// Make sure the correct editor is displaying.
</span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">has</span><span class="identifier">_tinymce</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">mode</span><span> </span><span class="signs">=</span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="string">"tinymce"</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="signs">!</span><span class="identifier">htmled</span><span class="identifier">_is</span><span class="identifier">_hidden</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">switchEditors</span><span class="signs">.</span><span class="identifier">go</span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">editor</span><span class="identifier">_id</span><span class="signs">,</span><span> </span><span class="string">"tmce"</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="signs">}</span><span> </span><span class="reserved">else</span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">mode</span><span> </span><span class="signs">=</span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="string">"html"</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="identifier">htmled</span><span class="identifier">_is</span><span class="identifier">_hidden</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">switchEditors</span><span class="signs">.</span><span class="identifier">go</span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">editor</span><span class="identifier">_id</span><span class="signs">,</span><span> </span><span class="string">"html"</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="signs">}</span><br><br><span> </span><span> </span><span class="comment">// Save content must be after switchEditors or content will be overwritten. See #17229.
</span><span> </span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">savecontent</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="identifier">document</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">unbind</span><span class="signs">(</span><span class="string">".fullscreen"</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">textarea</span><span class="identifier">_obj</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">unbind</span><span class="signs">(</span><span class="string">".grow"</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">has</span><span class="identifier">_tinymce</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">mode</span><span> </span><span class="signs">=</span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="string">"tinymce"</span><span class="signs">)</span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">tinyMCE</span><span class="signs">.</span><span class="identifier">execCommand</span><span class="signs">(</span><span class="string">"wpFullScreenSave"</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">title</span><span class="identifier">_id</span><span class="signs">)</span><span> </span><span class="identifier">set</span><span class="identifier">_title</span><span class="identifier">_hint</span><span class="signs">(</span><span class="identifier">$</span><span class="signs">(</span><span class="string">"#"</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">title</span><span class="identifier">_id</span><span class="signs">)</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">qt</span><span class="identifier">_canvas</span><span class="signs">.</span><span class="identifier">value</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">textarea</span><span class="identifier">_obj</span><span class="signs">.</span><span class="identifier">value</span><span class="signs">;</span><br><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><br><span class="identifier">ps</span><span class="signs">.</span><span class="identifier">subscribe</span><span class="signs">(</span><span class="string">"hiding"</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span> </span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="comment">// This event occurs while the overlay blocks the DFW UI.
</span><br><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="identifier">document</span><span class="signs">.</span><span class="identifier">body</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">removeClass</span><span class="signs">(</span><span class="string">"fullscreen-active"</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">scrollTo</span><span class="signs">(</span><span class="num">0</span><span class="signs">,</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">orig</span><span class="identifier">_y</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="string">"#wpadminbar"</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">show</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><br><span class="identifier">ps</span><span class="signs">.</span><span class="identifier">subscribe</span><span class="signs">(</span><span class="string">"hidden"</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span> </span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span class="comment">// This event occurs after DFW is removed.
</span><span> </span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">visible</span><span> </span><span class="signs">=</span><span> </span><span class="bool">false</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">$</span><span class="signs">(</span><span class="string">"#wp_mce_fullscreen, #wp-fullscreen-title"</span><span class="signs">)</span><span class="signs">.</span><span class="identifier">removeAttr</span><span class="signs">(</span><span class="string">"style"</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">has</span><span class="identifier">_tinymce</span><span> </span><span class="signs">&</span><span class="signs">&</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">is</span><span class="identifier">_mce</span><span class="identifier">_on</span><span class="signs">)</span><span> </span><span class="identifier">tinyMCE</span><span class="signs">.</span><span class="identifier">execCommand</span><span class="signs">(</span><span class="string">"wpFullScreenClose"</span><span class="signs">)</span><span class="signs">;</span><br><br><span> </span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">textarea</span><span class="identifier">_obj</span><span class="signs">.</span><span class="identifier">value</span><span> </span><span class="signs">=</span><span> </span><span class="string">""</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">api</span><span class="signs">.</span><span class="identifier">oldheight</span><span> </span><span class="signs">=</span><span> </span><span class="num">0</span><span class="signs">;</span><br><span> </span><span> </span><span class="identifier">wpActiveEditor</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">s</span><span class="signs">.</span><span class="identifier">editor</span><span class="identifier">_id</span><span class="signs">;</span><br><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br></code></pre>
    </body>
    </html>