<!DOCTYPE html>
    <html>
    <head>
      <title> Javascript Script Highlighter</title>
      <link rel='stylesheet' href='../css/styles.css'>
    </head>
    <body>
    <h1>Javascript script highlighter</h1>
    <h3> By: David Zarate Lopez A01329795</h3>
    <br>
    <pre><code><span class="comment">// Generated by CoffeeScript 1.3.3
</span><span class="signs">(</span><span class="reserved">function</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">Inbound</span><span class="signs">,</span><span> </span><span class="identifier">Internal</span><span class="signs">,</span><span> </span><span class="identifier">Messages</span><span class="signs">,</span><span> </span><span class="identifier">OPTS</span><span class="signs">,</span><span> </span><span class="identifier">Rejects</span><span class="signs">,</span><span> </span><span class="identifier">Senders</span><span class="signs">,</span><span> </span><span class="identifier">Tags</span><span class="signs">,</span><span> </span><span class="identifier">Templates</span><span class="signs">,</span><span> </span><span class="identifier">Urls</span><span class="signs">,</span><span> </span><span class="identifier">Users</span><span class="signs">,</span><span> </span><span class="identifier">Webhooks</span><span class="signs">,</span><span> </span><span class="identifier">https</span><span class="signs">;</span><br><span> </span><span> </span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">https</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">require</span><span class="signs">(</span><span class="string">'https'</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">OPTS</span><span> </span><span class="signs">=</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">host</span><span class="signs">:</span><span> </span><span class="string">'mandrillapp.com'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">port</span><span class="signs">:</span><span> </span><span class="num">443</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">prefix</span><span class="signs">:</span><span> </span><span class="string">'/api/1.0/'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">method</span><span class="signs">:</span><span> </span><span class="string">'POST'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">headers</span><span class="signs">:</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="string">'Content-Type'</span><span class="signs">:</span><span> </span><span class="string">'application/json'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="string">'User-Agent'</span><span class="signs">:</span><span> </span><span class="string">'Mandrill-Node/1.0.9'</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">;</span><br><span> </span><span> </span><br><span> </span><span> </span><span> </span><span> </span><span class="identifier">exports</span><span class="signs">.</span><span class="identifier">Mandrill</span><span> </span><span class="signs">=</span><span> </span><span class="signs">(</span><span class="reserved">function</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">function</span><span> </span><span class="identifier">Mandrill</span><span class="signs">(</span><span class="identifier">apikey</span><span class="signs">,</span><span> </span><span class="identifier">debug</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">apikey</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">apikey</span><span> </span><span class="signs">!</span><span class="signs">=</span><span> </span><span class="bool">null</span><span> </span><span class="signs">?</span><span> </span><span class="identifier">apikey</span><span> </span><span class="signs">:</span><span> </span><span class="bool">null</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">debug</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">debug</span><span> </span><span class="signs">!</span><span class="signs">=</span><span> </span><span class="bool">null</span><span> </span><span class="signs">?</span><span> </span><span class="identifier">debug</span><span> </span><span class="signs">:</span><span> </span><span class="bool">false</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">templates</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Templates</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">users</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Users</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">rejects</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Rejects</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">inbound</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Inbound</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">tags</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Tags</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">messages</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Messages</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">internal</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Internal</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">urls</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Urls</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">webhooks</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Webhooks</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">senders</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Senders</span><span class="signs">(</span><span class="reserved">this</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">apikey</span><span> </span><span class="signs">=</span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="bool">null</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">apikey</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">process</span><span class="signs">.</span><span class="identifier">env</span><span class="signs">[</span><span class="string">'MANDRILL_APIKEY'</span><span class="signs">]</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">Mandrill</span><span class="signs">.</span><span class="identifier">prototype</span><span class="signs">.</span><span class="identifier">call</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="identifier">uri</span><span class="signs">,</span><span> </span><span class="identifier">params</span><span class="signs">,</span><span> </span><span class="identifier">onresult</span><span class="signs">,</span><span> </span><span class="identifier">onerror</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">req</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">_this</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">this</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">params</span><span> </span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="bool">null</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">params</span><span> </span><span class="signs">=</span><span> </span><span class="signs">{</span><span class="signs">}</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">params</span><span class="signs">.</span><span class="identifier">key</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">apikey</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">params</span><span> </span><span class="signs">=</span><span> </span><span class="reserved">new</span><span> </span><span class="identifier">Buffer</span><span class="signs">(</span><span class="identifier">JSON</span><span class="signs">.</span><span class="identifier">stringify</span><span class="signs">(</span><span class="identifier">params</span><span class="signs">)</span><span class="signs">,</span><span> </span><span class="string">'utf8'</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="reserved">this</span><span class="signs">.</span><span class="identifier">debug</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">console</span><span class="signs">.</span><span class="reserved">log</span><span class="signs">(</span><span class="string">"Mandrill: Opening request to https://"</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">OPTS</span><span class="signs">.</span><span class="identifier">host</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">OPTS</span><span class="signs">.</span><span class="identifier">prefix</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">uri</span><span> </span><span class="signs">+</span><span> </span><span class="string">".json"</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">OPTS</span><span class="signs">.</span><span class="identifier">path</span><span> </span><span class="signs">=</span><span> </span><span class="string">""</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">OPTS</span><span class="signs">.</span><span class="identifier">prefix</span><span> </span><span class="signs">+</span><span> </span><span class="identifier">uri</span><span> </span><span class="signs">+</span><span> </span><span class="string">".json"</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">OPTS</span><span class="signs">.</span><span class="identifier">headers</span><span class="signs">[</span><span class="string">'Content-Length'</span><span class="signs">]</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">params</span><span class="signs">.</span><span class="identifier">length</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">req</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">https</span><span class="signs">.</span><span class="identifier">request</span><span class="signs">(</span><span class="identifier">OPTS</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="identifier">res</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">var</span><span> </span><span class="identifier">json</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">res</span><span class="signs">.</span><span class="identifier">setEncoding</span><span class="signs">(</span><span class="string">'utf8'</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">json</span><span> </span><span class="signs">=</span><span> </span><span class="string">''</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">res</span><span class="signs">.</span><span class="identifier">on</span><span class="signs">(</span><span class="string">'data'</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="identifier">d</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">json</span><span> </span><span class="signs">+</span><span class="signs">=</span><span> </span><span class="identifier">d</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">res</span><span class="signs">.</span><span class="identifier">on</span><span class="signs">(</span><span class="string">'end'</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">try</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">json</span><span> </span><span class="signs">=</span><span> </span><span class="identifier">JSON</span><span class="signs">.</span><span class="identifier">parse</span><span class="signs">(</span><span class="identifier">json</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span> </span><span class="reserved">catch</span><span> </span><span class="signs">(</span><span class="identifier">e</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">json</span><span> </span><span class="signs">=</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">status</span><span class="signs">:</span><span> </span><span class="string">'error'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">name</span><span class="signs">:</span><span> </span><span class="string">'GeneralError'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">message</span><span class="signs">:</span><span> </span><span class="identifier">e</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">json</span><span> </span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="bool">null</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">json</span><span> </span><span class="signs">=</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">status</span><span class="signs">:</span><span> </span><span class="string">'error'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">name</span><span class="signs">:</span><span> </span><span class="string">'GeneralError'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">message</span><span class="signs">:</span><span> </span><span class="string">'An unexpected error occurred'</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">res</span><span class="signs">.</span><span class="identifier">statusCode</span><span> </span><span class="signs">!</span><span class="signs">=</span><span class="signs">=</span><span> </span><span class="num">200</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">onerror</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">onerror</span><span class="signs">(</span><span class="identifier">json</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span> </span><span class="reserved">else</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">_this</span><span class="signs">.</span><span class="identifier">onerror</span><span class="signs">(</span><span class="identifier">json</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span> </span><span class="reserved">else</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">onresult</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">onresult</span><span class="signs">(</span><span class="identifier">json</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">req</span><span class="signs">.</span><span class="identifier">write</span><span class="signs">(</span><span class="identifier">params</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">req</span><span class="signs">.</span><span class="identifier">end</span><span class="signs">(</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">req</span><span class="signs">.</span><span class="identifier">on</span><span class="signs">(</span><span class="string">'error'</span><span class="signs">,</span><span> </span><span class="reserved">function</span><span class="signs">(</span><span class="identifier">e</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">if</span><span> </span><span class="signs">(</span><span class="identifier">onerror</span><span class="signs">)</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">onerror</span><span class="signs">(</span><span class="identifier">e</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span> </span><span class="reserved">else</span><span> </span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="identifier">_this</span><span class="signs">.</span><span class="identifier">onerror</span><span class="signs">(</span><span class="signs">{</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">status</span><span class="signs">:</span><span> </span><span class="string">'error'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">name</span><span class="signs">:</span><span> </span><span class="string">'GeneralError'</span><span class="signs">,</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="identifier">message</span><span class="signs">:</span><span> </span><span class="identifier">e</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">)</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="reserved">return</span><span> </span><span class="bool">null</span><span class="signs">;</span><br><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span class="signs">}</span><span class="signs">;</span></code></pre>
    </body>
    </html>